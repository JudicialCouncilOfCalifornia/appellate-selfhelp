!function(t,e,r){var s,n,i=t.lazyLoadXT,c=e.documentElement,a="srcset"in new Image,u=/^\s*(\S+)/,o=/\S\s+(\d+)w/,d=/\S\s+([\d\.]+)x/,l=[0,1/0],f=[0,1],A={srcsetAttr:"data-srcset",srcsetExtended:!0,srcsetBaseAttr:"data-srcset-base",srcsetExtAttr:"data-srcset-ext",srcsetSizesAttr:"data-srcset-size"},x={w:0,x:0};for(s in A)void 0===i[s]&&(i[s]=A[s]);function g(t,e){for(var r=[],s=0;s<t.length;s++)e(t[s])&&r.push(t[s]);return r}function h(t,e){for(var r,s=[],n=0;n<t.length;n++)null!==(r=e(t[n]))&&s.push(r);return s}function w(t,e){return Math[e].apply(null,h(t,function(t){return t[s]}))}function v(t){return t[s]>=x[s]||t[s]===n}function b(t){return t[s]===n}function p(t){return t.replace(/^\s+|\s+$/g,"").replace(/(\s+[\d\.]+[wx]),\s*|\s*,\s+/g,"$1 @,@ ").split(" @,@ ")}function m(e){var r=e.getAttribute(i.srcsetAttr);if(!r)return!1;var a,A,m=h(p(r),function(t){return{url:u.exec(t)[1],w:parseFloat((o.exec(t)||l)[1]),x:parseFloat((d.exec(t)||f)[1])}});if(!m.length)return!1;if(x={w:t.innerWidth||c.clientWidth,x:t.devicePixelRatio||1},"auto"===e.getAttribute(i.srcsetSizesAttr)){var E=e.width;e.width=x.w,x.w=e.scrollWidth,e.width=E}for(a in x.w*=x.x,x)s=a,n=w(m,"max"),m=g(m,v);for(a in x)s=a,n=w(m,"min"),m=g(m,b);return A=m[0].url,i.srcsetExtended&&(A=(e.getAttribute(i.srcsetBaseAttr)||"")+A+(e.getAttribute(i.srcsetExtAttr)||"")),A}i.selector+=",img["+i.srcsetAttr+"]",i.onEvent(e,"lazyshow",function(t){var e=t.target;if("IMG"===e.tagName){var r=e.getAttribute(i.srcsetAttr);if(r)if(a){if(i.srcsetExtended){var s=e.getAttribute(i.srcsetBaseAttr)||"",n=e.getAttribute(i.srcsetExtAttr)||"";r=p(r);for(var c=0;c<r.length;c++){var u=r[c],o=u.indexOf(" ");o<0&&(o=u.length),r[c]=s+u.substr(0,o)+n+u.substr(o)}r=r.join(", ")}e.setAttribute("srcset",r)}else e.lazyLoadXT.srcAttr=m}})}(window,document);